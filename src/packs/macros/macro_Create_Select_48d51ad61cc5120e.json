{
  "name": "Create Select",
  "type": "script",
  "author": "slowglass",
  "img": "modules/foundry-slowglass/icons/macros/create_select.png",
  "scope": "global",
  "command": "// Get the currently selected token\nconst selectedToken = canvas.tokens.controlled[0];\n\nif (!selectedToken) {\n    ui.notifications.error(\"Please select a token first.\");\n} else {\n    const tokenName = selectedToken.name;\n    const tokenImage = selectedToken.document.texture.src;\n\n    // Check if a macro with this name already exists\n    const existingMacro = game.macros.find(m => m.name === tokenName);\n    if (existingMacro) {\n        ui.notifications.warn(`A macro named \"${tokenName}\" already exists.`);\n    } else {\n        // Create the macro command that calls the Select macro with the token name\n        const macroCommand = `game.macros.getName(\"Select\").execute({ name: \"${tokenName}\" });`;\n\n        // Create the macro\n        Macro.create({\n            name: tokenName,\n            type: \"script\",\n            img: tokenImage,\n            command: macroCommand,\n            flags: {}\n        }).then(macro => {\n            ui.notifications.info(`Macro \"${tokenName}\" created successfully!`);\n        });\n    }\n}\n",
  "folder": null,
  "sort": 0,
  "ownership": {
    "default": 0
  },
  "flags": {},
  "_id": "48d51ad61cc5120e",
  "_key": "!macros!48d51ad61cc5120e",
  "_stats": {
    "systemId": "dnd5e",
    "systemVersion": "4.0.0",
    "coreVersion": "13.350",
    "createdTime": 1768663480812,
    "modifiedTime": 1768663480812,
    "lastModifiedBy": "slowglass"
  }
}